<!DOCTYPE html>
<html lang="en">
    <head>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
          
        <script>
            $(document).ready(function() {

                $('#submit').click(function(e) {
                    e.preventDefault();
                    var stock = $('#stock').val();

                    $(".error").remove();

                    if (stock.length < 1) {
                        $('#stock').after('<span class="error">This field is required</span>');
                        return
                    }
                    
                    
          var stockAPI ="http://dev.markitondemand.com/MODApis/Api/v2/Quote/json?symbol="+ stock ;
 
    $.getJSON (stockAPI).done(function(data){
    
     console.log(data.Name); 
            $('#companyName').html(data.Name)
            $('#symbol').html(data.Symbol)
            $('#currentPrice').html(data.LastPrice)
            $('#change').html(data.Change)
            $('#changeytd').html(data.ChangePercentYTD)

      
});

                    
                    
                    
                    
                    
                });

            });
            
        </script>
        <style>
            
                form label {
                    display: inline-block;
                    width: 200px;
                }

                form div {
                    margin-bottom: 10px;
                }

                .error {
                    color: red;
                    margin-left: 5px;
                }

                label.error {
                    display: inline;
                }
                
        </style>

    </head>
    
    <body>
        <div class="container">
                <div class='row'>
                    <div class='col-lg-12'>
                            <h2>Search For Stock Information:</h2>
                            <form id="first_form" method="post" action="">
                                <div class="form-group">
                                    <label for="country">Stock:</label>
                                    <input type="text" class="form-control" id="stock" name="stock"></input>
                                </div>
                                <div>
                                    <input type="submit" id="submit" class="btn btn-danger" value="Search" />
                                </div>
                            </form>
                    <table class='table table-bordered table-striped table-hover' style="width:300px;">
                        <tr><th>Company</th><th id="companyName"></th></tr>
                        <tr><td>Symbol</td><td id="symbol"></td></tr>
                        <tr><td>Current Price</td><td id="currentPrice"></td></tr>
                        <tr><td>Change%</td><td id="change"></td></tr>
                        <tr><td>Change%YTD</td><td id="changeytd"></td></tr>

                    </table>
                            
                    </div>
                
        
            </div>
        <div class='row'>
            <h2 id="total_cnt"></h2>
            <div class='col-lg-12' id="resultsTable">







            </div>

        </div>
    
    
        </div>  

    </body>
    
</html>
